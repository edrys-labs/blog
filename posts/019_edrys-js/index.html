<!doctype html><html class="js no-touch progressive-image no-reduced-motion progressive" lang=en><head><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=icon href=/blog/img/favicon.ico><meta name=keyword content><meta property="og:url" content="https://edrys-labs.github.io/blog/posts/019_edrys-js/"><meta property="og:site_name" content="edrys-Lite [BLOG]"><meta property="og:title" content="Edrys.js: The Engine Behind the Edrys Modules"><meta property="og:description" content="Discover the JavaScript library that powers all Edrys-Lite modules, making real-time collaboration and state management effortless."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-10T14:45:00+01:00"><meta property="article:modified_time" content="2025-11-10T14:45:00+01:00"><title>Edrys.js: The Engine Behind the Edrys Modules</title><link rel=canonical href=/blog/posts/019_edrys-js/><link rel=stylesheet href=/blog/css/global.css><link rel=stylesheet href=/blog/css/custom.css><link rel=stylesheet href=/blog/css/search.css></head></head><body class=page-article><header><nav class=nav><div class=nav-wrapper><div class=nav-content-wrapper><div class=nav-content><a href=/blog/ class=nav-title>edrys-Lite [BLOG]</a><div class=nav-menu><div class=nav-item-wrapper><a href=/blog/posts class=nav-item-content>Articles</a></div><div class=nav-item-wrapper><a href=/blog/about class=nav-item-content>About</a></div><div class=nav-item-wrapper><a href=/blog/imprint class=nav-item-content>Imprint</a></div><div class=nav-item-wrapper><a href=/blog/index.xml class=nav-item-content target=_blank>RSS</a></div></div></div></div></div></nav><script>function toggleSearchModal(){const t=`
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `,e=document.querySelector("#modal-wrapper");if(e)document.body.removeAttribute("style"),document.body.removeChild(e);else{const e=document.createElement("div");document.body.setAttribute("style","overflow: hidden;"),e.setAttribute("id","modal-wrapper"),e.setAttribute("onclick","toggleSearchModal()"),e.innerHTML=t;const n=document.createElement("script");n.setAttribute("src","https://edrys-labs.github.io/blog/js/algolia.js"),e.appendChild(n),document.body.append(e)}}</script></header><main id=main class=main><section><article class=article><div class=article-header><div class="category component"><div class=component-content><div class=category-eyebrow><span class="category-eyebrow__category category_original"></span><span class=category-eyebrow__date>November 10, 2025</span></div></div></div><div class="pagetitle component"><div class=component-content><h1 class=hero-headline>Edrys.js: The Engine Behind the Edrys Modules</h1></div></div><div class="component article-subhead"><div class=component-content>Discover the JavaScript library that powers all Edrys-Lite modules, making real-time collaboration and state management effortless.</div></div><div class="tagssheet component"><div class=component-content></div></div></div><div class=pagebody><p class="component-content component">Behind every Edrys-Lite module we&rsquo;ve explored - from the <a href=/blog/posts/009_module-editor/>Editor</a> to the <a href=/blog/posts/017_module-survey/>Survey Module</a> - lies a powerful JavaScript library that makes it all work seamlessly: <strong>Edrys.js</strong>. This library handles the complex parts of real-time collaboration so module developers can focus on creating great learning experiences.</p><div class="component-content pagebody component"><h2 id=what-is-edrysjs class=pagebody-header>What is Edrys.js?</h2></div><p class="component-content component">Edrys.js is the client library that connects modules to the Edrys-Lite classroom environment. It provides a simple API for:</p><div class="component-content component"><ul><li><strong>Real-time messaging</strong> - Send and receive data between users instantly</li><li><strong>State synchronization</strong> - Share reactive data that updates across all clients</li><li><strong>Media streaming</strong> - Broadcast video and audio to the classroom</li><li><strong>Local storage</strong> - Persist data across sessions</li><li><strong>Role awareness</strong> - Adapt module behavior based on user roles (teacher, student, station)</li></ul></div><p class="component-content component">Think of it as the foundation that transforms independent web components into collaborative classroom tools.</p><div class="component-content pagebody component"><h2 id=why-edrysjs-matters class=pagebody-header>Why Edrys.js Matters</h2></div><p class="component-content component">Building real-time collaborative applications from scratch is complex. You need to handle WebSocket connections, state synchronization, conflict resolution, and more. Edrys.js abstracts all this complexity:</p><div class="component-content pagebody component code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Instead of managing WebSocket connections manually...
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Just send a message
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>sendMessage</span>(<span style=color:#e6db74>&#34;execute&#34;</span>, <span style=color:#a6e22e>codeContent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Instead of implementing state synchronization...
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Just use reactive state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>getState</span>(<span style=color:#e6db74>&#34;data&#34;</span>, <span style=color:#e6db74>&#34;Map&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>set</span>(<span style=color:#e6db74>&#34;key&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>);</span></span></code></pre></div></div></div><p class="component-content component">Module developers get collaboration features for free, letting them focus on pedagogy rather than plumbing.</p><div class="component-content pagebody component"><h2 id=real-time-messaging-made-simple class=pagebody-header>Real-Time Messaging Made Simple</h2></div><p class="component-content component">Edrys.js makes module-to-module communication trivial. The <a href=/blog/posts/009_module-editor/>Editor Module</a> sends code to the <a href=/blog/posts/010_module-pyxtermjs/>Terminal Module</a> with a single function call:</p><div class="component-content pagebody component code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Send code to any listening module
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>sendMessage</span>(<span style=color:#e6db74>&#34;execute&#34;</span>, <span style=color:#a6e22e>userCode</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Receive messages from other modules
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>onMessage</span>(({ <span style=color:#a6e22e>from</span>, <span style=color:#a6e22e>subject</span>, <span style=color:#a6e22e>body</span> }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>subject</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;execute&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>runCode</span>(<span style=color:#a6e22e>body</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div></div><p class="component-content component">This pub-sub pattern lets modules work together without knowing about each other&rsquo;s internals - loose coupling at its finest.</p><div class="component-content pagebody component"><h2 id=reactive-state-for-collaboration class=pagebody-header>Reactive State for Collaboration</h2></div><p class="component-content component">The library uses <a href=https://docs.yjs.dev/>Yjs</a> for conflict-free state synchronization. Changes made by one user automatically propagate to everyone:</p><div class="component-content pagebody component code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Get a shared map that syncs across all users
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sharedData</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>getState</span>(<span style=color:#e6db74>&#34;canvas&#34;</span>, <span style=color:#e6db74>&#34;Map&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Changes update for everyone in real-time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>sharedData</span>.<span style=color:#a6e22e>set</span>(<span style=color:#e6db74>&#34;drawing&#34;</span>, <span style=color:#a6e22e>canvasData</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// React to changes from other users
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>onUpdate</span>(() =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>renderCanvas</span>(<span style=color:#a6e22e>sharedData</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;drawing&#34;</span>));
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div></div><p class="component-content component">This powers collaborative features like synchronized editor content and shared whiteboards.</p><div class="component-content pagebody component"><h2 id=role-based-behavior class=pagebody-header>Role-Based Behavior</h2></div><p class="component-content component">Modules adapt to different user roles automatically:</p><div class="component-content pagebody component code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Access role-specific configuration
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>role</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;teacher&#34;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showAdminControls</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loadTeacherConfig</span>(<span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>teacherConfig</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>role</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;student&#34;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loadStudentConfig</span>(<span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>studentConfig</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></div><p class="component-content component">This single library supports different experiences for teachers, students, and stations without duplicating code.</p><div class="component-content pagebody component"><h2 id=media-streaming-support class=pagebody-header>Media Streaming Support</h2></div><p class="component-content component">Edrys.js handles the complexity of WebRTC and WebSocket streaming:</p><div class="component-content pagebody component code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Share a video stream with everyone
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stream</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>navigator</span>.<span style=color:#a6e22e>mediaDevices</span>.<span style=color:#a6e22e>getUserMedia</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>audio</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>sendStream</span>(<span style=color:#a6e22e>stream</span>, {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;webrtc&#34;</span> <span style=color:#75715e>// or &#34;websocket&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Receive streams from others
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Edrys</span>.<span style=color:#a6e22e>onStream</span>((<span style=color:#a6e22e>stream</span>, <span style=color:#a6e22e>settings</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>videoElement</span>.<span style=color:#a6e22e>srcObject</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>stream</span>;
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div></div><p class="component-content component">The <a href=/blog/posts/011_module-streaming/>Streaming Module</a> uses this to share live video effortlessly.</p><div class="component-content pagebody component"><h2 id=creating-your-own-modules class=pagebody-header>Creating Your Own Modules</h2></div><p class="component-content component">With Edrys.js, building custom modules is straightforward:</p><div class="component-content component"><ol><li><strong>Create an HTML file</strong> with your module interface</li><li><strong>Add metadata</strong> to describe your module</li><li><strong>Use Edrys.js API</strong> for collaboration features</li><li><strong>Host it anywhere</strong> - GitHub Pages, your server, wherever</li></ol></div><p class="component-content component">The library handles all the classroom integration automatically. Module developers just need to know a bit of JavaScript and HTML.</p><div class="component-content pagebody component"><h2 id=extensible-and-open class=pagebody-header>Extensible and Open</h2></div><p class="component-content component">Edrys.js is open source, meaning:</p><div class="component-content component"><ul><li><strong>Inspect the code</strong> - Understand how it works</li><li><strong>Contribute improvements</strong> - Help make it better</li><li><strong>Build confidently</strong> - No vendor lock-in or hidden behavior</li><li><strong>Learn from examples</strong> - All existing modules use this same library</li></ul></div><p class="component-content component">Every module we&rsquo;ve discussed in this blog series is built with Edrys.js, demonstrating its versatility and power.</p><div class="component-content pagebody component"><h2 id=the-foundation-of-innovation class=pagebody-header>The Foundation of Innovation</h2></div><p class="component-content component">Edrys.js doesn&rsquo;t just power existing modules - it enables future innovation. Educators and developers can create:</p><div class="component-content component"><ul><li>Custom assessment tools</li><li>Specialized simulators</li><li>Novel collaboration features</li><li>Domain-specific learning environments</li></ul></div><p class="component-content component">The library provides the foundation; imagination provides the direction.</p><div class="component-content pagebody component"><h2 id=getting-started-with-module-development class=pagebody-header>Getting Started with Module Development</h2></div><p class="component-content component">Want to create your own Edrys-Lite module? The Edrys.js library makes it accessible. Start with a simple HTML file, include the library, and begin building. The <a href=https://liascript.github.io/course/?https://raw.githubusercontent.com/edrys-labs/documentation/refs/heads/main/README.md#19>full API documentation</a> guides you through everything from basic messaging to advanced state management.</p><p class="component-content component">Edrys.js proves that powerful collaboration tools don&rsquo;t require complex frameworks or extensive infrastructure. Sometimes, the right abstraction is all you need to transform complexity into simplicity.</p><p class="component-content component">Explore module examples: <a href=https://github.com/edrys-labs>edrys-labs on GitHub</a></p><p class="component-content component">Ready to build your own collaborative learning tools? Edrys.js provides the foundation - you bring the creativity!</p></div><div class=component><div class=component-content><div class=article-copyright><p class=content>Copyright: <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed target=_blank>Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a></p><p class=content>Author: Jihad Hyadi, Github Copilot</p><p class=content>Posted on: November 10, 2025</p></div></div></div></article></section></main><script>var script=document.createElement("script");script.src="https://edrys-labs.github.io/blog/js/initPost.js",document.head.appendChild(script)</script><div class=footer-main><div class="content-body footer-wraper"><div class=footer-box><div class=foot-nav><div class=foot-nav-items><div class=item><div class=logo></div><div class=email>Email:
<a href=mailto:andre.dietrich@informatik.tu-freiberg.de>andre.dietrich@informatik.tu-freiberg.de</a></div></div><div class="item community"><div class=item-title>Social Media</div><a href=https://github.com/edrys-labs target=_blank>Github</a></div><div class="item resources"><div class=item-title>Related</div><a href=https://edrys-labs.github.io target=_blank>edrys-Lite</a>
<a href=https://LiaScript.github.io target=_blank>LiaScript</a></div></div></div><div class=bottom><div class="item copyright">&copy; 2025</div></div></div></div></div></body></html>